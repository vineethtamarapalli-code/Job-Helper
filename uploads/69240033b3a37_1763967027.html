<!DOCTYPE html><html><head><meta charset="utf-8"><style>
body { font-family: Calibri, Arial, sans-serif; font-size: 11pt; line-height: 1.15; padding: 40px; max-width: 816px; margin: 0 auto; }
h1 { font-size: 24pt; color: #2F5496; } h2 { font-size: 18pt; color: #2F5496; }
table { border-collapse: collapse; width: 100%; border: 1px solid #aaa; }
td, th { border: 1px solid #aaa; padding: 5px; } img { max-width: 100%; }
</style></head><body><div style="color: rgb(212, 212, 212); background-color: rgb(30, 30, 30); font-family: Consolas, &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div><span style="color: #569cd6;">&lt;?php</span></div><div><span style="color: #6a9955;">// Prevent browser caching</span></div><div>header(<span style="color: #ce9178;">"Cache-Control: no-store, no-cache, must-revalidate, max-age=0"</span>);</div><div>header(<span style="color: #ce9178;">"Pragma: no-cache"</span>);</div><div>header(<span style="color: #ce9178;">"Expires: 0"</span>);</div><br><div><span style="color: #569cd6;">require_once</span> <span style="color: #ce9178;">'config.php'</span>;</div><br><div><span style="color: #569cd6;">if</span> (!isset(<span style="color: #c8c8c8;">$_SESSION</span>[<span style="color: #ce9178;">'user_id'</span>])) {</div><div>&nbsp; &nbsp; header(<span style="color: #ce9178;">'Location: index.php'</span>);</div><div>&nbsp; &nbsp; <span style="color: #569cd6;">exit</span>();</div><div>}</div><br><div><span style="color: #c8c8c8;">$user_id</span> = <span style="color: #c8c8c8;">$_SESSION</span>[<span style="color: #ce9178;">'user_id'</span>];</div><br><div><span style="color: #6a9955;">// --- 1. CHECK IF SUGGESTIONS ARE ENABLED ---</span></div><div><span style="color: #6a9955;">// This checks the database setting to see if the admin has turned suggestions ON or OFF</span></div><div><span style="color: #c8c8c8;">$stmt_settings</span> = <span style="color: #c8c8c8;">$conn</span>-&gt;<span style="color: #c8c8c8;">prepare</span>(<span style="color: #ce9178;">"</span><span style="color: #569cd6;">SELECT</span><span style="color: #ce9178;"> setting_value </span><span style="color: #569cd6;">FROM</span><span style="color: #ce9178;"> settings </span><span style="color: #569cd6;">WHERE</span><span style="color: #ce9178;"> setting_key </span>=<span style="color: #ce9178;"> 'suggestions_enabled'</span><span style="color: #ce9178;">"</span>);</div><div><span style="color: #c8c8c8;">$stmt_settings</span>-&gt;<span style="color: #c8c8c8;">execute</span>();</div><div><span style="color: #c8c8c8;">$sugg_val</span> = <span style="color: #c8c8c8;">$stmt_settings</span>-&gt;<span style="color: #c8c8c8;">fetchColumn</span>();</div><div><span style="color: #c8c8c8;">$suggestions_enabled</span> = (<span style="color: #c8c8c8;">$sugg_val</span> === <span style="color: #569cd6;">false</span> || <span style="color: #c8c8c8;">$sugg_val</span> == <span style="color: #ce9178;">'1'</span>); <span style="color: #6a9955;">// Default to true if setting is missing</span></div><br><div><span style="color: #6a9955;">// Fetch user files</span></div><div><span style="color: #c8c8c8;">$stmt_files</span> = <span style="color: #c8c8c8;">$conn</span>-&gt;<span style="color: #c8c8c8;">prepare</span>(<span style="color: #ce9178;">"</span><span style="color: #569cd6;">SELECT</span><span style="color: #ce9178;"> </span>*<span style="color: #ce9178;"> </span><span style="color: #569cd6;">FROM</span><span style="color: #ce9178;"> files </span><span style="color: #569cd6;">WHERE</span><span style="color: #ce9178;"> user_id </span>=<span style="color: #ce9178;"> ? </span><span style="color: #569cd6;">ORDER BY</span><span style="color: #ce9178;"> upload_date </span><span style="color: #569cd6;">DESC</span><span style="color: #ce9178;">, id </span><span style="color: #569cd6;">DESC</span><span style="color: #ce9178;">"</span>);</div><div><span style="color: #c8c8c8;">$stmt_files</span>-&gt;<span style="color: #c8c8c8;">execute</span>([<span style="color: #c8c8c8;">$user_id</span>]);</div><div><span style="color: #c8c8c8;">$files</span> = <span style="color: #c8c8c8;">$stmt_files</span>-&gt;<span style="color: #c8c8c8;">fetchAll</span>(PDO::FETCH_ASSOC);</div><br><div><span style="color: #6a9955;">// Fetch user shortcuts</span></div><div><span style="color: #c8c8c8;">$stmt_shortcuts</span> = <span style="color: #c8c8c8;">$conn</span>-&gt;<span style="color: #c8c8c8;">prepare</span>(<span style="color: #ce9178;">"</span><span style="color: #569cd6;">SELECT</span><span style="color: #ce9178;"> </span>*<span style="color: #ce9178;"> </span><span style="color: #569cd6;">FROM</span><span style="color: #ce9178;"> shortcuts </span><span style="color: #569cd6;">WHERE</span><span style="color: #ce9178;"> user_id </span>=<span style="color: #ce9178;"> ? </span><span style="color: #569cd6;">ORDER BY</span><span style="color: #ce9178;"> created_at </span><span style="color: #569cd6;">DESC</span><span style="color: #ce9178;">"</span>);</div><div><span style="color: #c8c8c8;">$stmt_shortcuts</span>-&gt;<span style="color: #c8c8c8;">execute</span>([<span style="color: #c8c8c8;">$user_id</span>]);</div><div><span style="color: #c8c8c8;">$shortcuts</span> = <span style="color: #c8c8c8;">$stmt_shortcuts</span>-&gt;<span style="color: #c8c8c8;">fetchAll</span>(PDO::FETCH_ASSOC);</div><br><div><span style="color: #6a9955;">// --- Fetch Favorite Folders and their items ---</span></div><div><span style="color: #c8c8c8;">$stmt_folders</span> = <span style="color: #c8c8c8;">$conn</span>-&gt;<span style="color: #c8c8c8;">prepare</span>(<span style="color: #ce9178;">"</span><span style="color: #569cd6;">SELECT</span><span style="color: #ce9178;"> </span>*<span style="color: #ce9178;"> </span><span style="color: #569cd6;">FROM</span><span style="color: #ce9178;"> favorites_folders </span><span style="color: #569cd6;">WHERE</span><span style="color: #ce9178;"> user_id </span>=<span style="color: #ce9178;"> ? </span><span style="color: #569cd6;">ORDER BY</span><span style="color: #ce9178;"> folder_name </span><span style="color: #569cd6;">ASC</span><span style="color: #ce9178;">"</span>);</div><div><span style="color: #c8c8c8;">$stmt_folders</span>-&gt;<span style="color: #c8c8c8;">execute</span>([<span style="color: #c8c8c8;">$user_id</span>]);</div><div><span style="color: #c8c8c8;">$favorite_folders</span> = <span style="color: #c8c8c8;">$stmt_folders</span>-&gt;<span style="color: #c8c8c8;">fetchAll</span>(PDO::FETCH_ASSOC);</div><br><div><span style="color: #c8c8c8;">$favorites_data</span> = [];</div><div><span style="color: #569cd6;">foreach</span> (<span style="color: #c8c8c8;">$favorite_folders</span> as <span style="color: #c8c8c8;">$folder</span>) {</div><div>&nbsp; &nbsp; <span style="color: #c8c8c8;">$stmt_items</span> = <span style="color: #c8c8c8;">$conn</span>-&gt;<span style="color: #c8c8c8;">prepare</span>(<span style="color: #ce9178;">"</span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; SELECT </span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fi.id as favorite_item_id, 'file' as type, </span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; f.id, f.filename, f.original_name, f.file_type, f.upload_date, f.display_name, </span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL as name, NULL as url, NULL as favicon</span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FROM favorite_items fi</span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; JOIN files f ON fi.file_id = f.id</span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; WHERE fi.folder_id = ? AND fi.user_id = ? AND fi.file_id IS NOT NULL</span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; </span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; UNION ALL</span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; </span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; SELECT </span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fi.id as favorite_item_id, </span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'shortcut' as type, </span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s.id, </span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL as filename, </span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL as original_name,</span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NULL as file_type,</span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s.created_at as upload_date, </span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s.name as display_name, </span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s.name, </span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s.url, </span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s.favicon</span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; FROM favorite_items fi</span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; JOIN shortcuts s ON fi.shortcut_id = s.id</span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; &nbsp; &nbsp; WHERE fi.folder_id = ? AND fi.user_id = ? AND fi.shortcut_id IS NOT NULL</span></div><div><span style="color: #ce9178;">&nbsp; &nbsp; "</span>);</div><div>&nbsp; &nbsp; <span style="color: #c8c8c8;">$stmt_items</span>-&gt;<span style="color: #c8c8c8;">execute</span>([<span style="color: #c8c8c8;">$folder</span>[<span style="color: #ce9178;">'id'</span>], <span style="color: #c8c8c8;">$user_id</span>, <span style="color: #c8c8c8;">$folder</span>[<span style="color: #ce9178;">'id'</span>], <span style="color: #c8c8c8;">$user_id</span>]);</div><div>&nbsp; &nbsp; <span style="color: #c8c8c8;">$favorites_data</span>[<span style="color: #c8c8c8;">$folder</span>[<span style="color: #ce9178;">'id'</span>]] = <span style="color: #c8c8c8;">$stmt_items</span>-&gt;<span style="color: #c8c8c8;">fetchAll</span>(PDO::FETCH_ASSOC);</div><div>}</div><br><div><span style="color: #6a9955;">// --- NEW: Fetch Messages for Inbox ---</span></div><div><span style="color: #6a9955;">// Get messages sent specifically to this user OR broadcast messages</span></div><div><span style="color: #c8c8c8;">$stmt_msgs</span> = <span style="color: #c8c8c8;">$conn</span>-&gt;<span style="color: #c8c8c8;">prepare</span>(<span style="color: #ce9178;">"</span><span style="color: #569cd6;">SELECT</span><span style="color: #ce9178;"> </span>*<span style="color: #ce9178;"> </span><span style="color: #569cd6;">FROM</span><span style="color: #ce9178;"> messages </span><span style="color: #569cd6;">WHERE</span><span style="color: #ce9178;"> receiver_id </span>=<span style="color: #ce9178;"> ? </span><span style="color: #569cd6;">OR</span><span style="color: #ce9178;"> </span><span style="color: #569cd6;">type</span><span style="color: #ce9178;"> </span>=<span style="color: #ce9178;"> 'broadcast' </span><span style="color: #569cd6;">ORDER BY</span><span style="color: #ce9178;"> created_at </span><span style="color: #569cd6;">DESC</span><span style="color: #ce9178;">"</span>);</div><div><span style="color: #c8c8c8;">$stmt_msgs</span>-&gt;<span style="color: #c8c8c8;">execute</span>([<span style="color: #c8c8c8;">$user_id</span>]);</div><div><span style="color: #c8c8c8;">$messages</span> = <span style="color: #c8c8c8;">$stmt_msgs</span>-&gt;<span style="color: #c8c8c8;">fetchAll</span>(PDO::FETCH_ASSOC);</div><br><div><span style="color: #6a9955;">// --- NEW: Calculate Unread Count ---</span></div><div><span style="color: #6a9955;">// We only count personal messages that haven't been read yet</span></div><div><span style="color: #c8c8c8;">$unread_count</span> = <span style="color: #b5cea8;">0</span>;</div><div><span style="color: #569cd6;">foreach</span> (<span style="color: #c8c8c8;">$messages</span> as <span style="color: #c8c8c8;">$msg</span>) {</div><div>&nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">$msg</span>[<span style="color: #ce9178;">'type'</span>] === <span style="color: #ce9178;">'personal'</span> &amp;&amp; <span style="color: #c8c8c8;">$msg</span>[<span style="color: #ce9178;">'is_read'</span>] == <span style="color: #b5cea8;">0</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">$unread_count</span>++;</div><div>&nbsp; &nbsp; }</div><div>}</div><div><span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div><span style="color: #808080;">&lt;!</span><span style="color: #569cd6;">DOCTYPE</span> <span style="color: #9cdcfe;">html</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">html</span> <span style="color: #9cdcfe;">lang</span>=<span style="color: #ce9178;">"en"</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">head</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">meta</span> <span style="color: #9cdcfe;">charset</span>=<span style="color: #ce9178;">"UTF-8"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">meta</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"viewport"</span> <span style="color: #9cdcfe;">content</span>=<span style="color: #ce9178;">"width=device-width, initial-scale=1.0"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">title</span><span style="color: #808080;">&gt;</span>Job Helper - Home<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">title</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">link</span> <span style="color: #9cdcfe;">href</span>=<span style="color: #ce9178;">"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap"</span> <span style="color: #9cdcfe;">rel</span>=<span style="color: #ce9178;">"stylesheet"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">link</span> <span style="color: #9cdcfe;">rel</span>=<span style="color: #ce9178;">"stylesheet"</span> <span style="color: #9cdcfe;">href</span>=<span style="color: #ce9178;">"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">link</span> <span style="color: #9cdcfe;">rel</span>=<span style="color: #ce9178;">"stylesheet"</span> <span style="color: #9cdcfe;">href</span>=<span style="color: #ce9178;">"style.css?v=</span><span style="color: #569cd6;">&lt;?php</span> echo time(); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">style</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">/* Internal Scrolling for Favorite Folders */</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.folder-scroll-container</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #9cdcfe;">max-height</span>: <span style="color: #b5cea8;">320px</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #9cdcfe;">overflow-y</span>: auto;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #9cdcfe;">padding-right</span>: <span style="color: #b5cea8;">5px</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #9cdcfe;">scrollbar-width</span>: thin;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #9cdcfe;">scrollbar-color</span>: #cbd5e1 transparent;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.folder-scroll-container::-webkit-scrollbar</span> { <span style="color: #9cdcfe;">width</span>: <span style="color: #b5cea8;">6px</span>; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.folder-scroll-container::-webkit-scrollbar-track</span> { <span style="color: #9cdcfe;">background</span>: transparent; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.folder-scroll-container::-webkit-scrollbar-thumb</span> { <span style="color: #9cdcfe;">background-color</span>: #cbd5e1; <span style="color: #9cdcfe;">border-radius</span>: <span style="color: #b5cea8;">20px</span>; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.folder-scroll-container::-webkit-scrollbar-thumb:hover</span> { <span style="color: #9cdcfe;">background-color</span>: #94a3b8; }</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">/* --- NEW: Message Box Styles --- */</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.msg-container</span> { <span style="color: #9cdcfe;">display</span>: flex; <span style="color: #9cdcfe;">gap</span>: <span style="color: #b5cea8;">20px</span>; <span style="color: #9cdcfe;">height</span>: <span style="color: #b5cea8;">400px</span>; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.msg-inbox</span> { <span style="color: #9cdcfe;">flex</span>: <span style="color: #b5cea8;">2</span>; <span style="color: #9cdcfe;">background</span>: #fff; <span style="color: #9cdcfe;">border</span>: <span style="color: #b5cea8;">1px</span> solid #e2e8f0; <span style="color: #9cdcfe;">border-radius</span>: <span style="color: #b5cea8;">12px</span>; <span style="color: #9cdcfe;">overflow</span>: hidden; <span style="color: #9cdcfe;">display</span>: flex; <span style="color: #9cdcfe;">flex-direction</span>: column; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.msg-compose</span> { <span style="color: #9cdcfe;">flex</span>: <span style="color: #b5cea8;">1</span>; <span style="color: #9cdcfe;">background</span>: #f8fafc; <span style="color: #9cdcfe;">border</span>: <span style="color: #b5cea8;">1px</span> solid #e2e8f0; <span style="color: #9cdcfe;">border-radius</span>: <span style="color: #b5cea8;">12px</span>; <span style="color: #9cdcfe;">padding</span>: <span style="color: #b5cea8;">20px</span>; <span style="color: #9cdcfe;">display</span>: flex; <span style="color: #9cdcfe;">flex-direction</span>: column; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.msg-header</span> { <span style="color: #9cdcfe;">background</span>: #f1f5f9; <span style="color: #9cdcfe;">padding</span>: <span style="color: #b5cea8;">15px</span>; <span style="color: #9cdcfe;">font-weight</span>: <span style="color: #b5cea8;">600</span>; <span style="color: #9cdcfe;">border-bottom</span>: <span style="color: #b5cea8;">1px</span> solid #e2e8f0; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.msg-list</span> { <span style="color: #9cdcfe;">flex</span>: <span style="color: #b5cea8;">1</span>; <span style="color: #9cdcfe;">overflow-y</span>: auto; <span style="color: #9cdcfe;">padding</span>: <span style="color: #b5cea8;">15px</span>; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.msg-item</span> { <span style="color: #9cdcfe;">background</span>: #f8fafc; <span style="color: #9cdcfe;">padding</span>: <span style="color: #b5cea8;">12px</span>; <span style="color: #9cdcfe;">border-radius</span>: <span style="color: #b5cea8;">8px</span>; <span style="color: #9cdcfe;">margin-bottom</span>: <span style="color: #b5cea8;">10px</span>; <span style="color: #9cdcfe;">border-left</span>: <span style="color: #b5cea8;">4px</span> solid #3b82f6; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.msg-item.broadcast</span> { <span style="color: #9cdcfe;">border-left-color</span>: #a855f7; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.msg-meta</span> { <span style="color: #9cdcfe;">font-size</span>: <span style="color: #b5cea8;">0.75rem</span>; <span style="color: #9cdcfe;">color</span>: #64748b; <span style="color: #9cdcfe;">margin-bottom</span>: <span style="color: #b5cea8;">4px</span>; <span style="color: #9cdcfe;">display</span>: flex; <span style="color: #9cdcfe;">justify-content</span>: space-between; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.msg-body</span> { <span style="color: #9cdcfe;">font-size</span>: <span style="color: #b5cea8;">0.9rem</span>; <span style="color: #9cdcfe;">color</span>: #334155; <span style="color: #9cdcfe;">white-space</span>: pre-wrap; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.msg-compose</span> <span style="color: #d7ba7d;">textarea</span> { <span style="color: #9cdcfe;">width</span>: <span style="color: #b5cea8;">100%</span>; <span style="color: #9cdcfe;">flex</span>: <span style="color: #b5cea8;">1</span>; <span style="color: #9cdcfe;">padding</span>: <span style="color: #b5cea8;">12px</span>; <span style="color: #9cdcfe;">border</span>: <span style="color: #b5cea8;">1px</span> solid #cbd5e1; <span style="color: #9cdcfe;">border-radius</span>: <span style="color: #b5cea8;">8px</span>; <span style="color: #9cdcfe;">margin-bottom</span>: <span style="color: #b5cea8;">15px</span>; <span style="color: #9cdcfe;">resize</span>: none; <span style="color: #9cdcfe;">font-family</span>: inherit; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.msg-compose</span> <span style="color: #d7ba7d;">textarea:focus</span> { <span style="color: #9cdcfe;">outline</span>: <span style="color: #b5cea8;">2px</span> solid #3b82f6; <span style="color: #9cdcfe;">border-color</span>: transparent; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">/* Suggestions Disabled State */</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.suggestions-disabled</span> { <span style="color: #9cdcfe;">text-align</span>: center; <span style="color: #9cdcfe;">padding-top</span>: <span style="color: #b5cea8;">40px</span>; <span style="color: #9cdcfe;">color</span>: #94a3b8; <span style="color: #9cdcfe;">display</span>: flex; <span style="color: #9cdcfe;">flex-direction</span>: column; <span style="color: #9cdcfe;">align-items</span>: center; <span style="color: #9cdcfe;">justify-content</span>: center; <span style="color: #9cdcfe;">height</span>: <span style="color: #b5cea8;">100%</span>; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">/* Auto Dismiss Animation (1s fade) */</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #d7ba7d;">.fade-out</span> { <span style="color: #9cdcfe;">animation</span>: fadeOut <span style="color: #b5cea8;">1s</span> forwards; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">@keyframes</span> <span style="color: #7f7f7f;">fadeOut</span> { from { <span style="color: #9cdcfe;">opacity</span>: <span style="color: #b5cea8;">1</span>; } to { <span style="color: #9cdcfe;">opacity</span>: <span style="color: #b5cea8;">0</span>; <span style="color: #9cdcfe;">visibility</span>: hidden; } }</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">@media</span> (<span style="color: #9cdcfe;">max-width</span>: <span style="color: #b5cea8;">768px</span>) { <span style="color: #d7ba7d;">.msg-container</span> { <span style="color: #9cdcfe;">flex-direction</span>: column; <span style="color: #9cdcfe;">height</span>: auto; } <span style="color: #d7ba7d;">.msg-inbox</span>, <span style="color: #d7ba7d;">.msg-compose</span> { <span style="color: #9cdcfe;">height</span>: <span style="color: #b5cea8;">300px</span>; } }</div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">style</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">head</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;</span><span style="color: #569cd6;">body</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"loadingOverlay"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"loading-overlay"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"loading-spinner"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">header</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"header"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h1</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"header-title"</span><span style="color: #808080;">&gt;</span>Job Helper<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h1</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">nav</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"nav"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">a</span> <span style="color: #9cdcfe;">href</span>=<span style="color: #ce9178;">"home.php"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"nav-link active"</span><span style="color: #808080;">&gt;</span>Home<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">a</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">a</span> <span style="color: #9cdcfe;">href</span>=<span style="color: #ce9178;">"profile.php"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"nav-link"</span><span style="color: #808080;">&gt;</span>Profile<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">a</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">a</span> <span style="color: #9cdcfe;">href</span>=<span style="color: #ce9178;">"auth.php?action=logout"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"nav-link logout"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"Logout"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-sign-out-alt"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">a</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">nav</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"mobile-nav-toggle"</span> <span style="color: #9cdcfe;">aria-label</span>=<span style="color: #ce9178;">"Toggle navigation"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-bars"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">header</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">main</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"main-content"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"container"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- Messages Feedback (With auto-dismiss class) --&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">if</span>(isset(<span style="color: #c8c8c8;">$_GET</span>[<span style="color: #ce9178;">'msg_success'</span>])): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"form-message success auto-dismiss"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">margin-bottom: 1rem;"</span><span style="color: #808080;">&gt;</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$_GET</span>[<span style="color: #ce9178;">'msg_success'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endif</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">if</span>(isset(<span style="color: #c8c8c8;">$_GET</span>[<span style="color: #ce9178;">'msg_error'</span>])): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"form-message error auto-dismiss"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">margin-bottom: 1rem;"</span><span style="color: #808080;">&gt;</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$_GET</span>[<span style="color: #ce9178;">'msg_error'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endif</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"page-header"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;</span>Dashboard<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span>Manage your files and URL shortcuts<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"top-controls"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"search-bar"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-search"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"text"</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"globalSearchInput"</span> <span style="color: #9cdcfe;">onkeyup</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">filterContent</span><span style="color: #ce9178;">()"</span> <span style="color: #9cdcfe;">placeholder</span>=<span style="color: #ce9178;">"Search files and shortcuts..."</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"main-actions"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- Create Document Button --&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">a</span> <span style="color: #9cdcfe;">href</span>=<span style="color: #ce9178;">"editor.php"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-logo"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"Create Document"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">text-decoration:none;"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-file-word"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">a</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-logo"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"New Folder"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">showCreateFolderModal</span><span style="color: #ce9178;">()"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-folder-plus"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-logo"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"Add URL"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">showAddModal</span><span style="color: #ce9178;">()"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-plus"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-logo"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"Upload File"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">document</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">getElementById</span><span style="color: #ce9178;">('fileInput').</span><span style="color: #c8c8c8;">click</span><span style="color: #ce9178;">()"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-upload"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">form</span> <span style="color: #9cdcfe;">action</span>=<span style="color: #ce9178;">"file_handler.php"</span> <span style="color: #9cdcfe;">method</span>=<span style="color: #ce9178;">"POST"</span> <span style="color: #9cdcfe;">enctype</span>=<span style="color: #ce9178;">"multipart/form-data"</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"uploadForm"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">display:none;"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"file"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"file"</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"fileInput"</span> <span style="color: #9cdcfe;">onchange</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">showFileNameModal</span><span style="color: #ce9178;">()"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"hidden"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"file_name"</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"fileNameInput"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">form</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- Drag and Drop Zone --&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"dropZone"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"drop-zone"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-cloud-upload-alt"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span>Drag and drop files here to upload<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- UPDATED: Tab Navigation with Messages Button --&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"tab-navigation"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"tab-btn active"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">openTab</span><span style="color: #ce9178;">(</span><span style="color: #c8c8c8;">event</span><span style="color: #ce9178;">, 'all')"</span><span style="color: #808080;">&gt;</span>All<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"tab-btn"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">openTab</span><span style="color: #ce9178;">(</span><span style="color: #c8c8c8;">event</span><span style="color: #ce9178;">, 'files')"</span><span style="color: #808080;">&gt;</span>Files<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"tab-btn"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">openTab</span><span style="color: #ce9178;">(</span><span style="color: #c8c8c8;">event</span><span style="color: #ce9178;">, 'shortcuts')"</span><span style="color: #808080;">&gt;</span>Shortcuts<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"tab-btn"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">openTab</span><span style="color: #ce9178;">(</span><span style="color: #c8c8c8;">event</span><span style="color: #ce9178;">, 'favorites')"</span><span style="color: #808080;">&gt;</span>Favorites<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- NEW MESSAGES BUTTON --&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"tab-btn"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">openTab</span><span style="color: #ce9178;">(</span><span style="color: #c8c8c8;">event</span><span style="color: #ce9178;">, 'messages')"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Messages </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- Notification Badge: Only shows if unread_count &gt; 0 --&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">span</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"msg-badge"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">background:red; color:white; border-radius:50%; padding:0 4px; font-size:10px; vertical-align:top; display: </span><span style="color: #569cd6;">&lt;?php</span> echo <span style="color: #c8c8c8;">$unread_count</span> &gt; <span style="color: #b5cea8;">0</span> ? <span style="color: #ce9178;">'inline-block'</span> : <span style="color: #ce9178;">'none'</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">;"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> echo <span style="color: #c8c8c8;">$unread_count</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- Tab: ALL --&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"all"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"tab-pane active"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"content-grid"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">if</span> (count(<span style="color: #c8c8c8;">$files</span>) === <span style="color: #b5cea8;">0</span> &amp;&amp; count(<span style="color: #c8c8c8;">$shortcuts</span>) === <span style="color: #b5cea8;">0</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"empty-state"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">grid-column: 1 / -1;"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-box-open"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span>No items yet<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span>Upload a file, add a URL, or create a document to get started<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endif</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">foreach</span>(<span style="color: #c8c8c8;">$files</span> as <span style="color: #c8c8c8;">$file</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"content-card"</span> <span style="color: #9cdcfe;">data-title</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'display_name'</span>] ?? <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'original_name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">handleFileClick</span><span style="color: #ce9178;">(</span><span style="color: #569cd6;">&lt;?php</span> echo <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'id'</span>]; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">, 'uploads/</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'filename'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">', '</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(addslashes(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'display_name'</span>] ?? <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'original_name'</span>])); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">', '</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'file_type'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">')"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">a</span> <span style="color: #9cdcfe;">href</span>=<span style="color: #ce9178;">"uploads/</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'filename'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span> <span style="color: #9cdcfe;">download</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'original_name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"download-btn"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">event</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">stopPropagation</span><span style="color: #ce9178;">()"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"Download"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-download"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">a</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-icon"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas </span><span style="color: #569cd6;">&lt;?php</span> </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">$type</span> = <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'file_type'</span>]; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'image'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-image'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'video'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-video'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'pdf'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-pdf'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'audio'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-audio'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'word'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-word'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'excel'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-excel'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'powerpoint'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-powerpoint'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'zip'</span>) !== <span style="color: #569cd6;">false</span> || strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'archive'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-archive'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">else</span> echo <span style="color: #ce9178;">'fa-file-alt'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h4</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-title"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'display_name'</span>] ?? <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'original_name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'display_name'</span>] ?? <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'original_name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h4</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-subtitle"</span><span style="color: #808080;">&gt;</span>Uploaded on <span style="color: #569cd6;">&lt;?php</span> echo date(<span style="color: #ce9178;">'M d, Y'</span>, strtotime(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'upload_date'</span>])); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endforeach</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">foreach</span>(<span style="color: #c8c8c8;">$shortcuts</span> as <span style="color: #c8c8c8;">$shortcut</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"content-card shortcut-card"</span> <span style="color: #9cdcfe;">data-title</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">window</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">open</span><span style="color: #ce9178;">('</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'url'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">', '_blank')"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-icon"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">img</span> <span style="color: #9cdcfe;">src</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'favicon'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span> <span style="color: #9cdcfe;">alt</span>=<span style="color: #ce9178;">""</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"shortcut-favicon"</span> <span style="color: #9cdcfe;">onerror</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">this</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">style</span><span style="color: #ce9178;">.</span><span style="color: #dadada;">display</span>=<span style="color: #ce9178;">'none'; </span><span style="color: #569cd6;">this</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">nextElementSibling</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">style</span><span style="color: #ce9178;">.</span><span style="color: #dadada;">display</span>=<span style="color: #ce9178;">'inline-block';"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-globe"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">display:none;"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h4</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-title"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h4</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-subtitle"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'url'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(parse_url(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'url'</span>], PHP_URL_HOST)); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endforeach</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- Tab: FILES --&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"files"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"tab-pane"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"content-grid"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">if</span> (count(<span style="color: #c8c8c8;">$files</span>) === <span style="color: #b5cea8;">0</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"empty-state"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">grid-column: 1 / -1;"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-file-alt"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span>No files uploaded<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span>Upload your first file to get started<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">else</span>: <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">foreach</span>(<span style="color: #c8c8c8;">$files</span> as <span style="color: #c8c8c8;">$file</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"content-card"</span> <span style="color: #9cdcfe;">data-title</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'display_name'</span>] ?? <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'original_name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">handleFileClick</span><span style="color: #ce9178;">(</span><span style="color: #569cd6;">&lt;?php</span> echo <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'id'</span>]; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">, 'uploads/</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'filename'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">', '</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(addslashes(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'display_name'</span>] ?? <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'original_name'</span>])); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">', '</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'file_type'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">')"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">a</span> <span style="color: #9cdcfe;">href</span>=<span style="color: #ce9178;">"uploads/</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'filename'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span> <span style="color: #9cdcfe;">download</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'original_name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"download-btn"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">event</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">stopPropagation</span><span style="color: #ce9178;">()"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"Download"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-download"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">a</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-icon"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas </span><span style="color: #569cd6;">&lt;?php</span> </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">$type</span> = <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'file_type'</span>]; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'image'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-image'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'video'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-video'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'pdf'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-pdf'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'audio'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-audio'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'word'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-word'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'excel'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-excel'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'powerpoint'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-powerpoint'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'zip'</span>) !== <span style="color: #569cd6;">false</span> || strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'archive'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-archive'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">else</span> echo <span style="color: #ce9178;">'fa-file-alt'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h4</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-title"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'display_name'</span>] ?? <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'original_name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'display_name'</span>] ?? <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'original_name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h4</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-subtitle"</span><span style="color: #808080;">&gt;</span>Uploaded on <span style="color: #569cd6;">&lt;?php</span> echo date(<span style="color: #ce9178;">'M d, Y'</span>, strtotime(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'upload_date'</span>])); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endforeach</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endif</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- Tab: SHORTCUTS --&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"shortcuts"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"tab-pane"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"content-grid"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">if</span> (count(<span style="color: #c8c8c8;">$shortcuts</span>) === <span style="color: #b5cea8;">0</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"empty-state"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">grid-column: 1 / -1;"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-link"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span>No shortcuts yet<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span>Add your first shortcut to get started<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">else</span>: <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">foreach</span>(<span style="color: #c8c8c8;">$shortcuts</span> as <span style="color: #c8c8c8;">$shortcut</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"content-card shortcut-card"</span> <span style="color: #9cdcfe;">data-title</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">window</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">open</span><span style="color: #ce9178;">('</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'url'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">', '_blank')"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-icon"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">img</span> <span style="color: #9cdcfe;">src</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'favicon'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span> <span style="color: #9cdcfe;">alt</span>=<span style="color: #ce9178;">""</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"shortcut-favicon"</span> <span style="color: #9cdcfe;">onerror</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">this</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">style</span><span style="color: #ce9178;">.</span><span style="color: #dadada;">display</span>=<span style="color: #ce9178;">'none'; </span><span style="color: #569cd6;">this</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">nextElementSibling</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">style</span><span style="color: #ce9178;">.</span><span style="color: #dadada;">display</span>=<span style="color: #ce9178;">'inline-block';"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-globe"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">display:none;"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h4</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-title"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h4</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-subtitle"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'url'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(parse_url(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'url'</span>], PHP_URL_HOST)); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endforeach</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endif</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- Tab: FAVORITES --&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"favorites"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"tab-pane"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">if</span> (count(<span style="color: #c8c8c8;">$favorite_folders</span>) === <span style="color: #b5cea8;">0</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"empty-state"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">grid-column: 1 / -1;"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-folder"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span>No favorite folders yet<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span>Click "New Folder" to create one, then add items from your Profile page.<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">else</span>: <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">foreach</span>(<span style="color: #c8c8c8;">$favorite_folders</span> as <span style="color: #c8c8c8;">$folder</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">section</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"folder-section"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"folder-header"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$folder</span>[<span style="color: #ce9178;">'folder_name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"folder-header-actions"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-add-items"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">showAddItemsToFolderModal</span><span style="color: #ce9178;">(</span><span style="color: #569cd6;">&lt;?php</span> echo <span style="color: #c8c8c8;">$folder</span>[<span style="color: #ce9178;">'id'</span>]; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">, '</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(addslashes(<span style="color: #c8c8c8;">$folder</span>[<span style="color: #ce9178;">'folder_name'</span>])); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">')"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-plus"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span> Add Items</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-rename-folder"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">showRenameFolderModal</span><span style="color: #ce9178;">(</span><span style="color: #569cd6;">&lt;?php</span> echo <span style="color: #c8c8c8;">$folder</span>[<span style="color: #ce9178;">'id'</span>]; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">, '</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(addslashes(<span style="color: #c8c8c8;">$folder</span>[<span style="color: #ce9178;">'folder_name'</span>])); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">')"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-pen"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span> Rename</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-delete-folder"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">deleteFavoriteFolder</span><span style="color: #ce9178;">(</span><span style="color: #569cd6;">&lt;?php</span> echo <span style="color: #c8c8c8;">$folder</span>[<span style="color: #ce9178;">'id'</span>]; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">, '</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(addslashes(<span style="color: #c8c8c8;">$folder</span>[<span style="color: #ce9178;">'folder_name'</span>])); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">')"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-trash"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span> Delete</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #c8c8c8;">$items</span> = <span style="color: #c8c8c8;">$favorites_data</span>[<span style="color: #c8c8c8;">$folder</span>[<span style="color: #ce9178;">'id'</span>]] ?? []; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">if</span> (count(<span style="color: #c8c8c8;">$items</span>) === <span style="color: #b5cea8;">0</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"empty-state"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">padding: 2rem; background-color: #fdfdfd;"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-box-open"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">font-size: 2rem;"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h3</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">font-size: 1.1rem;"</span><span style="color: #808080;">&gt;</span>This folder is empty<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h3</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span>Click "Add Items" to add your files and shortcuts.<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">else</span>: <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"content-grid folder-scroll-container"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">foreach</span>(<span style="color: #c8c8c8;">$items</span> as <span style="color: #c8c8c8;">$item</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'type'</span>] === <span style="color: #ce9178;">'file'</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"content-card"</span> <span style="color: #9cdcfe;">data-title</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'display_name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">handleFileClick</span><span style="color: #ce9178;">(</span><span style="color: #569cd6;">&lt;?php</span> echo <span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'id'</span>]; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">, 'uploads/</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'filename'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">', '</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(addslashes(<span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'display_name'</span>])); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">', '</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'file_type'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">')"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">a</span> <span style="color: #9cdcfe;">href</span>=<span style="color: #ce9178;">"favorites_handler.php?action=remove_item&amp;id=</span><span style="color: #569cd6;">&lt;?php</span> echo <span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'favorite_item_id'</span>]; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">&amp;return_url=home.php"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-remove-item"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">event</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">stopPropagation</span><span style="color: #ce9178;">(); </span><span style="color: #c8c8c8;">showConfirm</span><span style="color: #ce9178;">('Remove Item?', 'Are you sure you want to remove this item from the folder?', () </span><span style="color: #569cd6;">=&gt;</span><span style="color: #ce9178;"> { </span><span style="color: #c8c8c8;">window</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">location</span><span style="color: #ce9178;">.</span><span style="color: #dadada;">href</span>=<span style="color: #569cd6;">this</span><span style="color: #ce9178;">.</span><span style="color: #dadada;">href</span><span style="color: #ce9178;">; }); </span><span style="color: #569cd6;">return</span><span style="color: #ce9178;"> </span><span style="color: #569cd6;">false</span><span style="color: #ce9178;">;"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"Remove"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-times"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">a</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-icon"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas </span><span style="color: #569cd6;">&lt;?php</span> </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">$type</span> = <span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'file_type'</span>]; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'image'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-image'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'video'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-video'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'pdf'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-pdf'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'audio'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-audio'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'word'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-word'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'excel'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-excel'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'powerpoint'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-powerpoint'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'zip'</span>) !== <span style="color: #569cd6;">false</span> || strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'archive'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-archive'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">else</span> echo <span style="color: #ce9178;">'fa-file-alt'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h4</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-title"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'display_name'</span>] ?? <span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'original_name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'display_name'</span>] ?? <span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'original_name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h4</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-subtitle"</span><span style="color: #808080;">&gt;</span>File<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">elseif</span> (<span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'type'</span>] === <span style="color: #ce9178;">'shortcut'</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"content-card shortcut-card"</span> <span style="color: #9cdcfe;">data-title</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">window</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">open</span><span style="color: #ce9178;">('</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(addslashes(<span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'url'</span>])); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">', '_blank')"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">a</span> <span style="color: #9cdcfe;">href</span>=<span style="color: #ce9178;">"favorites_handler.php?action=remove_item&amp;id=</span><span style="color: #569cd6;">&lt;?php</span> echo <span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'favorite_item_id'</span>]; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">&amp;return_url=home.php"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-remove-item"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">event</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">stopPropagation</span><span style="color: #ce9178;">(); </span><span style="color: #c8c8c8;">showConfirm</span><span style="color: #ce9178;">('Remove Item?', 'Are you sure you want to remove this item from the folder?', () </span><span style="color: #569cd6;">=&gt;</span><span style="color: #ce9178;"> { </span><span style="color: #c8c8c8;">window</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">location</span><span style="color: #ce9178;">.</span><span style="color: #dadada;">href</span>=<span style="color: #569cd6;">this</span><span style="color: #ce9178;">.</span><span style="color: #dadada;">href</span><span style="color: #ce9178;">; }); </span><span style="color: #569cd6;">return</span><span style="color: #ce9178;"> </span><span style="color: #569cd6;">false</span><span style="color: #ce9178;">;"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"Remove"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-times"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">a</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-icon"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">img</span> <span style="color: #9cdcfe;">src</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'favicon'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span> <span style="color: #9cdcfe;">alt</span>=<span style="color: #ce9178;">""</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"shortcut-favicon"</span> <span style="color: #9cdcfe;">onerror</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">this</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">style</span><span style="color: #ce9178;">.</span><span style="color: #dadada;">display</span>=<span style="color: #ce9178;">'none'; </span><span style="color: #569cd6;">this</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">nextElementSibling</span><span style="color: #ce9178;">.</span><span style="color: #c8c8c8;">style</span><span style="color: #ce9178;">.</span><span style="color: #dadada;">display</span>=<span style="color: #ce9178;">'inline-block';"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-globe"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">display:none;"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h4</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-title"</span> <span style="color: #9cdcfe;">title</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;</span><span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$item</span>[<span style="color: #ce9178;">'name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h4</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"card-subtitle"</span><span style="color: #808080;">&gt;</span>Shortcut<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endif</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endforeach</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endif</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">section</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endforeach</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endif</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- NEW: Messages Tab Pane --&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"messages"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"tab-pane"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"msg-container"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- Inbox: Messages from Admin --&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"msg-inbox"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"msg-header"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-inbox text-blue-500"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span> Inbox (Admin Messages)<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"msg-list"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">if</span>(count(<span style="color: #c8c8c8;">$messages</span>) === <span style="color: #b5cea8;">0</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">text-align:center; padding:20px; color:#94a3b8;"</span><span style="color: #808080;">&gt;</span>No messages from Admin yet.<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">else</span>: <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">foreach</span>(<span style="color: #c8c8c8;">$messages</span> as <span style="color: #c8c8c8;">$msg</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"msg-item </span><span style="color: #569cd6;">&lt;?php</span> echo <span style="color: #c8c8c8;">$msg</span>[<span style="color: #ce9178;">'type'</span>] == <span style="color: #ce9178;">'broadcast'</span> ? <span style="color: #ce9178;">'broadcast'</span> : <span style="color: #ce9178;">''</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"msg-meta"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas </span><span style="color: #569cd6;">&lt;?php</span> echo <span style="color: #c8c8c8;">$msg</span>[<span style="color: #ce9178;">'type'</span>] == <span style="color: #ce9178;">'broadcast'</span> ? <span style="color: #ce9178;">'fa-bullhorn'</span> : <span style="color: #ce9178;">'fa-user-shield'</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span> <span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$msg</span>[<span style="color: #ce9178;">'sender_name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;</span><span style="color: #569cd6;">&lt;?php</span> echo date(<span style="color: #ce9178;">'M d, H:i'</span>, strtotime(<span style="color: #c8c8c8;">$msg</span>[<span style="color: #ce9178;">'created_at'</span>])); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"msg-body"</span><span style="color: #808080;">&gt;</span><span style="color: #569cd6;">&lt;?php</span> echo nl2br(htmlspecialchars(<span style="color: #c8c8c8;">$msg</span>[<span style="color: #ce9178;">'message'</span>])); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endforeach</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endif</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- Compose: Send Suggestion to Admin --&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"msg-compose"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">if</span>(<span style="color: #c8c8c8;">$suggestions_enabled</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">font-weight:600; margin-bottom:10px; color:#334155;"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-paper-plane text-green-500"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span> Send Suggestion<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">font-size:0.8rem; color:#64748b; margin-bottom:15px;"</span><span style="color: #808080;">&gt;</span>Have an idea? Send it to the Admin. A copy will be emailed to support.<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">form</span> <span style="color: #9cdcfe;">action</span>=<span style="color: #ce9178;">"message_handler.php"</span> <span style="color: #9cdcfe;">method</span>=<span style="color: #ce9178;">"POST"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">display:flex; flex-direction:column; flex:1;"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"hidden"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"action"</span> <span style="color: #9cdcfe;">value</span>=<span style="color: #ce9178;">"send_suggestion"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">textarea</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"message"</span> <span style="color: #9cdcfe;">placeholder</span>=<span style="color: #ce9178;">"Type your suggestion here..."</span> <span style="color: #9cdcfe;">required</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">textarea</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"submit"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-primary"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">align-self:flex-end;"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-paper-plane"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span> Send Now<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">form</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">else</span>: <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"suggestions-disabled"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-ban"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">font-size:2.5rem; margin-bottom:15px;"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">font-weight: 600; font-size: 1.1rem;"</span><span style="color: #808080;">&gt;</span>Suggestions Closed<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">font-size: 0.9rem;"</span><span style="color: #808080;">&gt;</span>The admin has currently disabled suggestions.<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endif</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">main</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; </div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">footer</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">text-align: center; padding: 2rem 0; color: #999; font-size: 0.9em;"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span>developed by vineeth<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">footer</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- Modals --&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"fileNameModal"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"modal"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"modal-content"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">span</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"close"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">closeModal</span><span style="color: #ce9178;">('fileNameModal')"</span><span style="color: #808080;">&gt;</span>&amp;times;<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;</span>Name Your File<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"fileNameForm"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"form-group"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">label</span> <span style="color: #9cdcfe;">for</span>=<span style="color: #ce9178;">"fileNameInputModal"</span><span style="color: #808080;">&gt;</span>File Name<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">label</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"text"</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"fileNameInputModal"</span> <span style="color: #9cdcfe;">placeholder</span>=<span style="color: #ce9178;">"Enter a name for your file"</span> <span style="color: #9cdcfe;">required</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"button"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-primary"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">submitFileUpload</span><span style="color: #ce9178;">()"</span><span style="color: #808080;">&gt;</span>Upload File<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"addModal"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"modal"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"modal-content"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">span</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"close"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">closeModal</span><span style="color: #ce9178;">('addModal')"</span><span style="color: #808080;">&gt;</span>&amp;times;<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;</span>Add URL Shortcut<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">form</span> <span style="color: #9cdcfe;">action</span>=<span style="color: #ce9178;">"shortcut_handler.php"</span> <span style="color: #9cdcfe;">method</span>=<span style="color: #ce9178;">"POST"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"hidden"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"action"</span> <span style="color: #9cdcfe;">value</span>=<span style="color: #ce9178;">"add"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"hidden"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"return_url"</span> <span style="color: #9cdcfe;">value</span>=<span style="color: #ce9178;">"home.php"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"form-group"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">label</span> <span style="color: #9cdcfe;">for</span>=<span style="color: #ce9178;">"addShortcutName"</span><span style="color: #808080;">&gt;</span>Name<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">label</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"text"</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"addShortcutName"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"name"</span> <span style="color: #9cdcfe;">placeholder</span>=<span style="color: #ce9178;">"e.g., Google"</span> <span style="color: #9cdcfe;">required</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"form-group"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">label</span> <span style="color: #9cdcfe;">for</span>=<span style="color: #ce9178;">"addShortcutUrl"</span><span style="color: #808080;">&gt;</span>URL<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">label</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"text"</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"addShortcutUrl"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"url"</span> <span style="color: #9cdcfe;">placeholder</span>=<span style="color: #ce9178;">"e.g., google.com"</span> <span style="color: #9cdcfe;">required</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"submit"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-primary"</span><span style="color: #808080;">&gt;</span>Add Shortcut<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">form</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"fileViewerModal"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"modal"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"viewer-modal-content"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"viewer-header"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">h2</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"viewerFileName"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">display:flex; gap:10px;"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">a</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"viewerEditBtn"</span> <span style="color: #9cdcfe;">href</span>=<span style="color: #ce9178;">"#"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-primary"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">padding:5px 15px; font-size:0.9em; display:none;"</span><span style="color: #808080;">&gt;</span>Edit in Word<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">a</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">span</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"close"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">closeFileViewer</span><span style="color: #ce9178;">()"</span><span style="color: #808080;">&gt;</span>&amp;times;<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"viewer-body"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">iframe</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"viewerFrame"</span> <span style="color: #9cdcfe;">src</span>=<span style="color: #ce9178;">""</span> <span style="color: #9cdcfe;">frameborder</span>=<span style="color: #ce9178;">"0"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">iframe</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; </div><div>&nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- NEW: Create Folder Modal --&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"createFolderModal"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"modal"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"modal-content"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">span</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"close"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">closeModal</span><span style="color: #ce9178;">('createFolderModal')"</span><span style="color: #808080;">&gt;</span>&amp;times;<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;</span>Create New Folder<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">form</span> <span style="color: #9cdcfe;">action</span>=<span style="color: #ce9178;">"favorites_handler.php"</span> <span style="color: #9cdcfe;">method</span>=<span style="color: #ce9178;">"POST"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"hidden"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"action"</span> <span style="color: #9cdcfe;">value</span>=<span style="color: #ce9178;">"create_folder"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"hidden"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"return_url"</span> <span style="color: #9cdcfe;">value</span>=<span style="color: #ce9178;">"home.php#favorites"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"form-group"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">label</span> <span style="color: #9cdcfe;">for</span>=<span style="color: #ce9178;">"folderName"</span><span style="color: #808080;">&gt;</span>Folder Name<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">label</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"text"</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"folderName"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"folder_name"</span> <span style="color: #9cdcfe;">placeholder</span>=<span style="color: #ce9178;">"e.g., Project X"</span> <span style="color: #9cdcfe;">required</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"submit"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-primary"</span><span style="color: #808080;">&gt;</span>Create Folder<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">form</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- NEW: Rename Folder Modal --&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"renameFolderModal"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"modal"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"modal-content"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">span</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"close"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">closeModal</span><span style="color: #ce9178;">('renameFolderModal')"</span><span style="color: #808080;">&gt;</span>&amp;times;<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;</span>Rename Folder<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">form</span> <span style="color: #9cdcfe;">action</span>=<span style="color: #ce9178;">"favorites_handler.php"</span> <span style="color: #9cdcfe;">method</span>=<span style="color: #ce9178;">"POST"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"hidden"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"action"</span> <span style="color: #9cdcfe;">value</span>=<span style="color: #ce9178;">"rename_folder"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"hidden"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"return_url"</span> <span style="color: #9cdcfe;">value</span>=<span style="color: #ce9178;">"home.php#favorites"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"hidden"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"folder_id"</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"renameFolderId"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"form-group"</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">label</span> <span style="color: #9cdcfe;">for</span>=<span style="color: #ce9178;">"renameFolderName"</span><span style="color: #808080;">&gt;</span>New Folder Name<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">label</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"text"</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"renameFolderName"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"folder_name"</span> <span style="color: #9cdcfe;">placeholder</span>=<span style="color: #ce9178;">"Enter a new name"</span> <span style="color: #9cdcfe;">required</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"submit"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-primary"</span><span style="color: #808080;">&gt;</span>Save Changes<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">form</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><br><div>&nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- NEW: Add Items to Folder Modal --&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"addItemsToFolderModal"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"modal"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"modal-content add-items-modal-content"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">span</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"close"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">closeModal</span><span style="color: #ce9178;">('addItemsToFolderModal')"</span><span style="color: #808080;">&gt;</span>&amp;times;<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;</span>Add items to "<span style="color: #808080;">&lt;</span><span style="color: #569cd6;">span</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"addItemsFolderName"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">span</span><span style="color: #808080;">&gt;</span>"<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">form</span> <span style="color: #9cdcfe;">action</span>=<span style="color: #ce9178;">"favorites_handler.php"</span> <span style="color: #9cdcfe;">method</span>=<span style="color: #ce9178;">"POST"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"hidden"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"action"</span> <span style="color: #9cdcfe;">value</span>=<span style="color: #ce9178;">"add_items"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"hidden"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"return_url"</span> <span style="color: #9cdcfe;">value</span>=<span style="color: #ce9178;">"home.php#favorites"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"hidden"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"folder_id"</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"addItemsFolderId"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"item-selection-list"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">if</span> (count(<span style="color: #c8c8c8;">$files</span>) === <span style="color: #b5cea8;">0</span> &amp;&amp; count(<span style="color: #c8c8c8;">$shortcuts</span>) === <span style="color: #b5cea8;">0</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">text-align: center; color: #888;"</span><span style="color: #808080;">&gt;</span>You have no files or shortcuts to add.<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">else</span>: <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- We can add tabs here later if needed, for now a simple list --&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">foreach</span>(<span style="color: #c8c8c8;">$files</span> as <span style="color: #c8c8c8;">$file</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">label</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"checkbox"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"selected_files[]"</span> <span style="color: #9cdcfe;">value</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'id'</span>]; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas </span><span style="color: #569cd6;">&lt;?php</span> </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">$type</span> = <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'file_type'</span>]; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'image'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-image'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'video'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-video'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'pdf'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-pdf'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'audio'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-audio'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'word'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-word'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'excel'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-excel'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'powerpoint'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-powerpoint'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">elseif</span> (strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'zip'</span>) !== <span style="color: #569cd6;">false</span> || strpos(<span style="color: #c8c8c8;">$type</span>, <span style="color: #ce9178;">'archive'</span>) !== <span style="color: #569cd6;">false</span>) echo <span style="color: #ce9178;">'fa-file-archive'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">else</span> echo <span style="color: #ce9178;">'fa-file-alt'</span>; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'display_name'</span>] ?? <span style="color: #c8c8c8;">$file</span>[<span style="color: #ce9178;">'original_name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">label</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endforeach</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">foreach</span>(<span style="color: #c8c8c8;">$shortcuts</span> as <span style="color: #c8c8c8;">$shortcut</span>): <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #808080;">&lt;</span><span style="color: #569cd6;">label</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">input</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"checkbox"</span> <span style="color: #9cdcfe;">name</span>=<span style="color: #ce9178;">"selected_shortcuts[]"</span> <span style="color: #9cdcfe;">value</span>=<span style="color: #ce9178;">"</span><span style="color: #569cd6;">&lt;?php</span> echo <span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'id'</span>]; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span><span style="color: #ce9178;">"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">i</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"fas fa-link"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">i</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> echo htmlspecialchars(<span style="color: #c8c8c8;">$shortcut</span>[<span style="color: #ce9178;">'name'</span>]); <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">label</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endforeach</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">&lt;?php</span> <span style="color: #569cd6;">endif</span>; <span style="color: #569cd6;">?</span><span style="color: #569cd6;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">type</span>=<span style="color: #ce9178;">"submit"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-primary"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">margin-top: 1.5rem;"</span><span style="color: #808080;">&gt;</span>Add Selected Items<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">form</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><br><div>&nbsp; &nbsp; <span style="color: #6a9955;">&lt;!-- Generic Confirmation/Alert Modal --&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"alertModal"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"modal"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"modal-content alert-modal-content"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">h2</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"alertModalTitle"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">h2</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">p</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"alertModalMessage"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">p</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">div</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"alertModalActions"</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"alertModalConfirmBtn"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-primary"</span><span style="color: #808080;">&gt;&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">button</span> <span style="color: #9cdcfe;">id</span>=<span style="color: #ce9178;">"alertModalCancelBtn"</span> <span style="color: #9cdcfe;">class</span>=<span style="color: #ce9178;">"btn-outline"</span> <span style="color: #9cdcfe;">style</span>=<span style="color: #ce9178;">"</span><span style="color: #ce9178;">border: 1px solid #ccc;"</span> <span style="color: #9cdcfe;">onclick</span>=<span style="color: #ce9178;">"</span><span style="color: #c8c8c8;">closeModal</span><span style="color: #ce9178;">('alertModal')"</span><span style="color: #808080;">&gt;</span>Cancel<span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">button</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">div</span><span style="color: #808080;">&gt;</span></div><br><br><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;</span><span style="color: #569cd6;">script</span><span style="color: #808080;">&gt;</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">addEventListener</span>(<span style="color: #ce9178;">'DOMContentLoaded'</span>, () <span style="color: #569cd6;">=&gt;</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// Mobile nav toggle</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">navToggle</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">querySelector</span>(<span style="color: #ce9178;">'.mobile-nav-toggle'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">nav</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">querySelector</span>(<span style="color: #ce9178;">'.nav'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">navToggle</span>.<span style="color: #c8c8c8;">addEventListener</span>(<span style="color: #ce9178;">'click'</span>, () <span style="color: #569cd6;">=&gt;</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">nav</span>.<span style="color: #c8c8c8;">classList</span>.<span style="color: #c8c8c8;">toggle</span>(<span style="color: #ce9178;">'active'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// On page load, check for hash and open correct tab</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">window</span>.<span style="color: #c8c8c8;">location</span>.<span style="color: #dadada;">hash</span> === <span style="color: #ce9178;">'#favorites'</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">favTabButton</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">querySelector</span>(<span style="color: #ce9178;">'.tab-btn[onclick*="favorites"]'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">favTabButton</span>) <span style="color: #c8c8c8;">favTabButton</span>.<span style="color: #c8c8c8;">click</span>();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <span style="color: #569cd6;">else</span> <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">window</span>.<span style="color: #c8c8c8;">location</span>.<span style="color: #dadada;">hash</span> === <span style="color: #ce9178;">'#messages'</span>) { <span style="color: #6a9955;">// Added check for messages tab</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">msgTabButton</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">querySelector</span>(<span style="color: #ce9178;">'.tab-btn[onclick*="messages"]'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">msgTabButton</span>) <span style="color: #c8c8c8;">msgTabButton</span>.<span style="color: #c8c8c8;">click</span>();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// Drag and Drop</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">setupDragAndDrop</span>();</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// --- Auto Dismiss Alerts (10 Seconds) ---</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">setTimeout</span>(() <span style="color: #569cd6;">=&gt;</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">alerts</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">querySelectorAll</span>(<span style="color: #ce9178;">'.auto-dismiss'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">alerts</span>.<span style="color: #c8c8c8;">forEach</span>(<span style="color: #7f7f7f;">alert</span> <span style="color: #569cd6;">=&gt;</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">alert</span>.<span style="color: #c8c8c8;">classList</span>.<span style="color: #c8c8c8;">add</span>(<span style="color: #ce9178;">'fade-out'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">setTimeout</span>(() <span style="color: #569cd6;">=&gt;</span> <span style="color: #c8c8c8;">alert</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'none'</span>, <span style="color: #b5cea8;">1000</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }, <span style="color: #b5cea8;">10000</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; });</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">openTab</span>(<span style="color: #7f7f7f;">evt</span>, <span style="color: #7f7f7f;">tabName</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">tabcontent</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementsByClassName</span>(<span style="color: #ce9178;">"tab-pane"</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">for</span> (<span style="color: #569cd6;">let</span> <span style="color: #c8c8c8;">i</span> = <span style="color: #b5cea8;">0</span>; <span style="color: #c8c8c8;">i</span> &lt; <span style="color: #c8c8c8;">tabcontent</span>.length; <span style="color: #c8c8c8;">i</span>++) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">tabcontent</span>[<span style="color: #c8c8c8;">i</span>].<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">"none"</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">tablinks</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementsByClassName</span>(<span style="color: #ce9178;">"tab-btn"</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">for</span> (<span style="color: #569cd6;">let</span> <span style="color: #c8c8c8;">i</span> = <span style="color: #b5cea8;">0</span>; <span style="color: #c8c8c8;">i</span> &lt; <span style="color: #c8c8c8;">tablinks</span>.length; <span style="color: #c8c8c8;">i</span>++) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">tablinks</span>[<span style="color: #c8c8c8;">i</span>].<span style="color: #dadada;">className</span> = <span style="color: #c8c8c8;">tablinks</span>[<span style="color: #c8c8c8;">i</span>].<span style="color: #c8c8c8;">className</span>.<span style="color: #c8c8c8;">replace</span>(<span style="color: #ce9178;">" active"</span>, <span style="color: #ce9178;">""</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #c8c8c8;">tabName</span>).<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">"block"</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">evt</span>.<span style="color: #c8c8c8;">currentTarget</span>.<span style="color: #dadada;">className</span> += <span style="color: #ce9178;">" active"</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// If opening favorites or messages, update URL hash</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">tabName</span> === <span style="color: #ce9178;">'favorites'</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">window</span>.<span style="color: #c8c8c8;">location</span>.<span style="color: #dadada;">hash</span> = <span style="color: #ce9178;">'favorites'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <span style="color: #569cd6;">else</span> <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">tabName</span> === <span style="color: #ce9178;">'messages'</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">window</span>.<span style="color: #c8c8c8;">location</span>.<span style="color: #dadada;">hash</span> = <span style="color: #ce9178;">'messages'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// --- Mark Messages as Read (Clear Badge) ---</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">badge</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'msg-badge'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">badge</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">badge</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'none'</span>; <span style="color: #6a9955;">// 1. Visually hide immediately</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// 2. Background call to update DB so it stays 0 on refresh</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">fetch</span>(<span style="color: #ce9178;">'message_handler.php'</span>, {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; method: <span style="color: #ce9178;">'POST'</span>,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; headers: {<span style="color: #ce9178;">'Content-Type'</span>: <span style="color: #ce9178;">'application/x-www-form-urlencoded'</span>},</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; body: <span style="color: #ce9178;">'action=mark_read'</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <span style="color: #569cd6;">else</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">history</span>.<span style="color: #c8c8c8;">pushState</span>(<span style="color: #ce9178;">""</span>, <span style="color: #c8c8c8;">document</span>.<span style="color: #dadada;">title</span>, <span style="color: #c8c8c8;">window</span>.<span style="color: #c8c8c8;">location</span>.<span style="color: #dadada;">pathname</span> + <span style="color: #c8c8c8;">window</span>.<span style="color: #c8c8c8;">location</span>.<span style="color: #dadada;">search</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; </div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">closeModal</span>(<span style="color: #7f7f7f;">modalId</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">modal</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #c8c8c8;">modalId</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">modal</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">modal</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'none'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// --- Alert and Confirmation Modals ---</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">showAlert</span>(<span style="color: #7f7f7f;">title</span>, <span style="color: #7f7f7f;">message</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'alertModalTitle'</span>).<span style="color: #dadada;">textContent</span> = <span style="color: #c8c8c8;">title</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'alertModalMessage'</span>).<span style="color: #dadada;">textContent</span> = <span style="color: #c8c8c8;">message</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">confirmBtn</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'alertModalConfirmBtn'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">confirmBtn</span>.<span style="color: #dadada;">textContent</span> = <span style="color: #ce9178;">'OK'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">confirmBtn</span>.<span style="color: #c8c8c8;">onclick</span> = () <span style="color: #569cd6;">=&gt;</span> <span style="color: #c8c8c8;">closeModal</span>(<span style="color: #ce9178;">'alertModal'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">confirmBtn</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'inline-block'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">confirmBtn</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">backgroundColor</span> = <span style="color: #ce9178;">'#4A00E0'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">confirmBtn</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">borderColor</span> = <span style="color: #ce9178;">'#4A00E0'</span>;</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'alertModalCancelBtn'</span>).<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'none'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'alertModal'</span>).<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'block'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">showConfirm</span>(<span style="color: #7f7f7f;">title</span>, <span style="color: #7f7f7f;">message</span>, <span style="color: #7f7f7f;">onConfirm</span>, <span style="color: #7f7f7f;">confirmText</span> = <span style="color: #ce9178;">'Confirm'</span>, <span style="color: #7f7f7f;">confirmColor</span> = <span style="color: #ce9178;">'#ef4444'</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'alertModalTitle'</span>).<span style="color: #dadada;">textContent</span> = <span style="color: #c8c8c8;">title</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'alertModalMessage'</span>).<span style="color: #dadada;">textContent</span> = <span style="color: #c8c8c8;">message</span>;</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">confirmBtn</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'alertModalConfirmBtn'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">confirmBtn</span>.<span style="color: #dadada;">textContent</span> = <span style="color: #c8c8c8;">confirmText</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">confirmBtn</span>.<span style="color: #c8c8c8;">onclick</span> = <span style="color: #569cd6;">function</span>() {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">onConfirm</span>();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">closeModal</span>(<span style="color: #ce9178;">'alertModal'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">confirmBtn</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'inline-block'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">confirmBtn</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">backgroundColor</span> = <span style="color: #c8c8c8;">confirmColor</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">confirmBtn</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">borderColor</span> = <span style="color: #c8c8c8;">confirmColor</span>;</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'alertModalCancelBtn'</span>).<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'inline-block'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'alertModal'</span>).<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'block'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// --- End Alert/Confirm ---</span></div><br><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">showFileNameModal</span>() {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">fileInput</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'fileInput'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">fileInput</span>.<span style="color: #c8c8c8;">files</span>.length &gt; <span style="color: #b5cea8;">0</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'fileNameModal'</span>).<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'block'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'fileNameInputModal'</span>).<span style="color: #dadada;">value</span> = <span style="color: #c8c8c8;">fileInput</span>.<span style="color: #dadada;">files</span>[<span style="color: #b5cea8;">0</span>].<span style="color: #c8c8c8;">name</span>.<span style="color: #c8c8c8;">split</span>(<span style="color: #ce9178;">'.'</span>).<span style="color: #c8c8c8;">slice</span>(<span style="color: #b5cea8;">0</span>, -<span style="color: #b5cea8;">1</span>).<span style="color: #c8c8c8;">join</span>(<span style="color: #ce9178;">'.'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'fileNameInputModal'</span>).<span style="color: #c8c8c8;">focus</span>();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">submitFileUpload</span>() {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">fileName</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'fileNameInputModal'</span>).<span style="color: #c8c8c8;">value</span>.<span style="color: #c8c8c8;">trim</span>();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">fileName</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'fileNameInput'</span>).<span style="color: #dadada;">value</span> = <span style="color: #c8c8c8;">fileName</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'uploadForm'</span>).<span style="color: #c8c8c8;">submit</span>();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <span style="color: #569cd6;">else</span> { </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">showAlert</span>(<span style="color: #ce9178;">'Missing Name'</span>, <span style="color: #ce9178;">'Please enter a name for your file.'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">showAddModal</span>() { <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'addModal'</span>).<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'block'</span>; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">showCreateFolderModal</span>() { <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'createFolderModal'</span>).<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'block'</span>; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// MODIFIED: Handle File Click - open editor for supported types, otherwise show viewer</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">handleFileClick</span>(<span style="color: #7f7f7f;">fileId</span>, <span style="color: #7f7f7f;">fileUrl</span>, <span style="color: #7f7f7f;">fileName</span>, <span style="color: #7f7f7f;">fileType</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// Check if it's an editable type (HTML, TXT, DOCX, PDF)</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">fileType</span>.<span style="color: #c8c8c8;">includes</span>(<span style="color: #ce9178;">'html'</span>) || <span style="color: #c8c8c8;">fileType</span>.<span style="color: #c8c8c8;">includes</span>(<span style="color: #ce9178;">'text'</span>) || <span style="color: #c8c8c8;">fileType</span>.<span style="color: #c8c8c8;">includes</span>(<span style="color: #ce9178;">'word'</span>) || <span style="color: #c8c8c8;">fileType</span>.<span style="color: #c8c8c8;">includes</span>(<span style="color: #ce9178;">'pdf'</span>)) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// Show viewer with Edit button</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">showFileViewer</span>(<span style="color: #c8c8c8;">fileUrl</span>, <span style="color: #c8c8c8;">fileName</span>, <span style="color: #c8c8c8;">fileId</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <span style="color: #569cd6;">else</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// Regular viewer</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">showFileViewer</span>(<span style="color: #c8c8c8;">fileUrl</span>, <span style="color: #c8c8c8;">fileName</span>, <span style="color: #569cd6;">null</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">showFileViewer</span>(<span style="color: #7f7f7f;">fileUrl</span>, <span style="color: #7f7f7f;">fileName</span>, <span style="color: #7f7f7f;">editFileId</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">modal</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'fileViewerModal'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">frame</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'viewerFrame'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">name</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'viewerFileName'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">editBtn</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'viewerEditBtn'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">name</span>.<span style="color: #dadada;">textContent</span> = <span style="color: #c8c8c8;">fileName</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">frame</span>.<span style="color: #dadada;">src</span> = <span style="color: #c8c8c8;">fileUrl</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">editFileId</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">editBtn</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'inline-block'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">editBtn</span>.<span style="color: #dadada;">href</span> = <span style="color: #ce9178;">'editor.php?id='</span> + <span style="color: #c8c8c8;">editFileId</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <span style="color: #569cd6;">else</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">editBtn</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'none'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">modal</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'block'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">closeFileViewer</span>() {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">modal</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'fileViewerModal'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">frame</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'viewerFrame'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">frame</span>.<span style="color: #dadada;">src</span> = <span style="color: #ce9178;">'about:blank'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">modal</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'none'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// --- New Favorite Actions ---</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">deleteFavoriteFolder</span>(<span style="color: #7f7f7f;">folderId</span>, <span style="color: #7f7f7f;">folderName</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">showConfirm</span>(</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ce9178;">'Delete Folder?'</span>, </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ce9178;">`Are you sure you want to delete the folder "</span><span style="color: #569cd6;">${</span><span style="color: #c8c8c8;">folderName</span><span style="color: #569cd6;">}</span><span style="color: #ce9178;">"? All items inside it will be removed from this folder.`</span>, </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span>() {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">window</span>.<span style="color: #c8c8c8;">location</span>.<span style="color: #dadada;">href</span> = <span style="color: #ce9178;">`favorites_handler.php?action=delete_folder&amp;id=</span><span style="color: #569cd6;">${</span><span style="color: #c8c8c8;">folderId</span><span style="color: #569cd6;">}</span><span style="color: #ce9178;">&amp;return_url=home.php`</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ce9178;">'Delete'</span>,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ce9178;">'#ef4444'</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">showRenameFolderModal</span>(<span style="color: #7f7f7f;">folderId</span>, <span style="color: #7f7f7f;">folderName</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'renameFolderId'</span>).<span style="color: #dadada;">value</span> = <span style="color: #c8c8c8;">folderId</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'renameFolderName'</span>).<span style="color: #dadada;">value</span> = <span style="color: #c8c8c8;">folderName</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'renameFolderModal'</span>).<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'block'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'renameFolderName'</span>).<span style="color: #c8c8c8;">focus</span>();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">removeItemFromFavorite</span>(<span style="color: #7f7f7f;">favoriteItemId</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #c8c8c8;">showConfirm</span>(</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ce9178;">'Remove Item?'</span>, </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ce9178;">`Are you sure you want to remove this item from the folder?`</span>, </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span>() {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">window</span>.<span style="color: #c8c8c8;">location</span>.<span style="color: #dadada;">href</span> = <span style="color: #ce9178;">`favorites_handler.php?action=remove_item&amp;id=</span><span style="color: #569cd6;">${</span><span style="color: #c8c8c8;">favoriteItemId</span><span style="color: #569cd6;">}</span><span style="color: #ce9178;">&amp;return_url=home.php`</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ce9178;">'Remove'</span>,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #ce9178;">'#ef4444'</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">showAddItemsToFolderModal</span>(<span style="color: #7f7f7f;">folderId</span>, <span style="color: #7f7f7f;">folderName</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'addItemsFolderName'</span>).<span style="color: #dadada;">textContent</span> = <span style="color: #c8c8c8;">folderName</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'addItemsFolderId'</span>).<span style="color: #dadada;">value</span> = <span style="color: #c8c8c8;">folderId</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">checkboxes</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">querySelectorAll</span>(<span style="color: #ce9178;">'#addItemsToFolderModal input[type=checkbox]'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">checkboxes</span>.<span style="color: #c8c8c8;">forEach</span>(<span style="color: #7f7f7f;">cb</span> <span style="color: #569cd6;">=&gt;</span> <span style="color: #c8c8c8;">cb</span>.<span style="color: #dadada;">checked</span> = <span style="color: #569cd6;">false</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'addItemsToFolderModal'</span>).<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'block'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// --- End New Favorite Actions ---</span></div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// --- Drag and Drop Upload ---</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">setupDragAndDrop</span>() {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">dropZone</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'dropZone'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">loadingOverlay</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'loadingOverlay'</span>);</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (!<span style="color: #c8c8c8;">dropZone</span>) <span style="color: #569cd6;">return</span>;</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [<span style="color: #ce9178;">'dragenter'</span>, <span style="color: #ce9178;">'dragover'</span>, <span style="color: #ce9178;">'dragleave'</span>, <span style="color: #ce9178;">'drop'</span>].<span style="color: #c8c8c8;">forEach</span>(<span style="color: #7f7f7f;">eventName</span> <span style="color: #569cd6;">=&gt;</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">dropZone</span>.<span style="color: #c8c8c8;">addEventListener</span>(<span style="color: #c8c8c8;">eventName</span>, <span style="color: #c8c8c8;">preventDefaults</span>, <span style="color: #569cd6;">false</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">body</span>.<span style="color: #c8c8c8;">addEventListener</span>(<span style="color: #c8c8c8;">eventName</span>, <span style="color: #c8c8c8;">preventDefaults</span>, <span style="color: #569cd6;">false</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [<span style="color: #ce9178;">'dragenter'</span>, <span style="color: #ce9178;">'dragover'</span>].<span style="color: #c8c8c8;">forEach</span>(<span style="color: #7f7f7f;">eventName</span> <span style="color: #569cd6;">=&gt;</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">dropZone</span>.<span style="color: #c8c8c8;">addEventListener</span>(<span style="color: #c8c8c8;">eventName</span>, () <span style="color: #569cd6;">=&gt;</span> <span style="color: #c8c8c8;">dropZone</span>.<span style="color: #c8c8c8;">classList</span>.<span style="color: #c8c8c8;">add</span>(<span style="color: #ce9178;">'dragover'</span>), <span style="color: #569cd6;">false</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [<span style="color: #ce9178;">'dragleave'</span>, <span style="color: #ce9178;">'drop'</span>].<span style="color: #c8c8c8;">forEach</span>(<span style="color: #7f7f7f;">eventName</span> <span style="color: #569cd6;">=&gt;</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">dropZone</span>.<span style="color: #c8c8c8;">addEventListener</span>(<span style="color: #c8c8c8;">eventName</span>, () <span style="color: #569cd6;">=&gt;</span> <span style="color: #c8c8c8;">dropZone</span>.<span style="color: #c8c8c8;">classList</span>.<span style="color: #c8c8c8;">remove</span>(<span style="color: #ce9178;">'dragover'</span>), <span style="color: #569cd6;">false</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">dropZone</span>.<span style="color: #c8c8c8;">addEventListener</span>(<span style="color: #ce9178;">'drop'</span>, <span style="color: #c8c8c8;">handleDrop</span>, <span style="color: #569cd6;">false</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">preventDefaults</span>(<span style="color: #7f7f7f;">e</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">e</span>.<span style="color: #c8c8c8;">preventDefault</span>();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">e</span>.<span style="color: #c8c8c8;">stopPropagation</span>();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">handleDrop</span>(<span style="color: #7f7f7f;">e</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">dt</span> = <span style="color: #c8c8c8;">e</span>.<span style="color: #dadada;">dataTransfer</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">files</span> = <span style="color: #c8c8c8;">dt</span>.<span style="color: #dadada;">files</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">handleFiles</span>(<span style="color: #c8c8c8;">files</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">handleFiles</span>(<span style="color: #7f7f7f;">files</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">files</span>.length === <span style="color: #b5cea8;">0</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">return</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">loadingOverlay</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'flex'</span>; </div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">formData</span> = <span style="color: #569cd6;">new</span> <span style="color: #c8c8c8;">FormData</span>();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">formData</span>.<span style="color: #c8c8c8;">append</span>(<span style="color: #ce9178;">'action'</span>, <span style="color: #ce9178;">'ajax_upload'</span>);</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">for</span> (<span style="color: #569cd6;">let</span> <span style="color: #c8c8c8;">i</span> = <span style="color: #b5cea8;">0</span>; <span style="color: #c8c8c8;">i</span> &lt; <span style="color: #c8c8c8;">files</span>.length; <span style="color: #c8c8c8;">i</span>++) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">formData</span>.<span style="color: #c8c8c8;">append</span>(<span style="color: #ce9178;">'files[]'</span>, <span style="color: #c8c8c8;">files</span>[<span style="color: #c8c8c8;">i</span>]);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><br><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">fetch</span>(<span style="color: #ce9178;">'file_handler.php'</span>, {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; method: <span style="color: #ce9178;">'POST'</span>,</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; body: <span style="color: #c8c8c8;">formData</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; })</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .<span style="color: #c8c8c8;">then</span>(<span style="color: #7f7f7f;">response</span> <span style="color: #569cd6;">=&gt;</span> <span style="color: #c8c8c8;">response</span>.<span style="color: #c8c8c8;">json</span>())</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .<span style="color: #c8c8c8;">then</span>(<span style="color: #7f7f7f;">data</span> <span style="color: #569cd6;">=&gt;</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">data</span>.<span style="color: #dadada;">success</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">location</span>.<span style="color: #c8c8c8;">reload</span>();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <span style="color: #569cd6;">else</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">loadingOverlay</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'none'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">showAlert</span>(<span style="color: #ce9178;">'Upload Error'</span>, <span style="color: #c8c8c8;">data</span>.<span style="color: #dadada;">message</span> || <span style="color: #ce9178;">'An unknown error occurred during upload.'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; })</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .<span style="color: #c8c8c8;">catch</span>(<span style="color: #7f7f7f;">error</span> <span style="color: #569cd6;">=&gt;</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">loadingOverlay</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'none'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">console</span>.<span style="color: #c8c8c8;">error</span>(<span style="color: #ce9178;">'Upload error:'</span>, <span style="color: #c8c8c8;">error</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">showAlert</span>(<span style="color: #ce9178;">'Upload Failed'</span>, <span style="color: #ce9178;">'Could not connect to the server. Please try again.'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #6a9955;">// --- END: Drag and Drop Upload ---</span></div><br><br><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">function</span> <span style="color: #c8c8c8;">filterContent</span>() {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">filter</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">getElementById</span>(<span style="color: #ce9178;">'globalSearchInput'</span>).<span style="color: #c8c8c8;">value</span>.<span style="color: #c8c8c8;">toUpperCase</span>();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">querySelectorAll</span>(<span style="color: #ce9178;">'.tab-pane'</span>).<span style="color: #c8c8c8;">forEach</span>(<span style="color: #7f7f7f;">pane</span> <span style="color: #569cd6;">=&gt;</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">cards</span> = <span style="color: #c8c8c8;">pane</span>.<span style="color: #c8c8c8;">querySelectorAll</span>(<span style="color: #ce9178;">'.content-grid .content-card'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">cards</span>.<span style="color: #c8c8c8;">forEach</span>(<span style="color: #7f7f7f;">card</span> <span style="color: #569cd6;">=&gt;</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">title</span> = (<span style="color: #c8c8c8;">card</span>.<span style="color: #c8c8c8;">dataset</span>.<span style="color: #dadada;">title</span> || <span style="color: #c8c8c8;">card</span>.<span style="color: #c8c8c8;">querySelector</span>(<span style="color: #ce9178;">'.card-title'</span>).<span style="color: #dadada;">textContent</span>).<span style="color: #c8c8c8;">toUpperCase</span>();</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">title</span>.<span style="color: #c8c8c8;">includes</span>(<span style="color: #c8c8c8;">filter</span>)) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">card</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'flex'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <span style="color: #569cd6;">else</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">card</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'none'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; </div><div>&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">window</span>.<span style="color: #c8c8c8;">onclick</span> = <span style="color: #569cd6;">function</span>(<span style="color: #7f7f7f;">event</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">const</span> <span style="color: #c8c8c8;">modals</span> = <span style="color: #c8c8c8;">document</span>.<span style="color: #c8c8c8;">querySelectorAll</span>(<span style="color: #ce9178;">'.modal'</span>);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">modals</span>.<span style="color: #c8c8c8;">forEach</span>(<span style="color: #7f7f7f;">modal</span> <span style="color: #569cd6;">=&gt;</span> {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">event</span>.<span style="color: #dadada;">target</span> == <span style="color: #c8c8c8;">modal</span>) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #c8c8c8;">modal</span>.<span style="color: #c8c8c8;">style</span>.<span style="color: #dadada;">display</span> = <span style="color: #ce9178;">'none'</span>;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #569cd6;">if</span> (<span style="color: #c8c8c8;">modal</span>.<span style="color: #dadada;">id</span> === <span style="color: #ce9178;">'fileViewerModal'</span>) { <span style="color: #c8c8c8;">closeFileViewer</span>(); }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; <span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">script</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">body</span><span style="color: #808080;">&gt;</span></div><div><span style="color: #808080;">&lt;/</span><span style="color: #569cd6;">html</span><span style="color: #808080;">&gt;</span></div></div></body></html>